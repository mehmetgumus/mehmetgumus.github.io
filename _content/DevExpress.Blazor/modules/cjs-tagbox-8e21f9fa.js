DxBlazorInternal.define("cjs-tagbox-8e21f9fa.js",function(e,t,n){e("./cjs-chunk-9eab2df8.js");var o=e("./cjs-dom-utils-9e3f000c.js"),s=e("./cjs-chunk-f8581dee.js"),r=e("./cjs-chunk-ea895bfc.js"),c=e("./cjs-chunk-98cdd37b.js"),u=e("./cjs-dropdowns-e7ee1fb5.js");e("./cjs-chunk-e26655d2.js");var a=e("./cjs-chunk-f4c68e62.js"),i=e("./cjs-chunk-d6ceb400.js"),l=200,d=l/2;function f(e){!function(e){if(!o.elementIsInDOM(e))return;var t=function(e){var t=e.querySelector("*[id$='_LB']");t||(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){var n=t.querySelector(a.Selectors.ListBoxFocusedItem);if(n)return n.parentNode}return null}(e);if(t){var n=e,s=n.scrollTop>t.offsetTop,r=n.scrollTop+n.clientHeight<t.offsetTop+t.offsetHeight;s&&(n.scrollTop=t.offsetTop),r&&(n.scrollTop=t.offsetTop-(n.clientHeight-t.offsetHeight))}}(I(e))}function m(e,t,n){o.SetInputAttribute(e,"value",t),v(e),n&&function(e){e&&e.select()}(e)}function v(e){e.previousSibling.innerText=""==e.value&&e.placeholder?e.placeholder:e.value}function p(e){e=o.EnsureElement(e),document.activeElement===e&&h(e)}function E(e,t){var n=e.target;y(n,!0),function(e){if(e){var t=o.GetParentByClassName(e,"form-control");t.dataset.bluredClass&&(t.className=t.dataset.bluredClass)}}(n),n.dataset.timerId=window.setTimeout(function(){if(delete n.dataset.timerId,document.activeElement!==n)try{D(t,n)}catch(e){}},l)}function y(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||window.setTimeout(function(){y(e,!0)},d)}function h(e){if(e){var t=o.GetParentByClassName(e,"form-control");t.dataset.focusedClass&&(t.className=t.dataset.focusedClass)}}function j(e,t){return t&&i.KeyDown(e),function(e){return T(e)}(e)&&(e.stopPropagation(),e.preventDefault()),!1}function k(e,t,n,o){var s=!1;if(o&&(s=s||i.KeyUp(e)),s=s||function(e){var t=e.altKey&&(e.keyCode==c.Key.Down||e.keyCode==c.Key.Up),n=T(e),o=e.keyCode==c.Key.Esc||e.keyCode==c.Key.Enter,s=function(e){var t=0==e.target.value.length;return e.keyCode==c.Key.Backspace&&t}(e);return t||n||o||s}(e)){var r=e.target.value,u=""!=e.target.dataset.previousValue;if(n&&a.HasParametersForVirtualScrollingRequest(n)){var l=a.GetParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("OnTagBoxListBoxKeyUp",r,e.keyCode,e.altKey,e.ctrlKey,l.itemHeight,l.scrollTopForRequest,l.scrollHeightForRequest,u)}else t.invokeMethodAsync("OnTagBoxKeyUp",r,e.keyCode,e.altKey,e.ctrlKey,u)}}function T(e){return e.keyCode===c.Key.Down||e.keyCode===c.Key.Up||e.keyCode===c.Key.PageUp||e.keyCode===c.Key.PageDown||e.ctrlKey&&(e.keyCode===c.Key.Home||e.keyCode===c.Key.End)}function D(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<l+100&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),document.activeElement!=t&&(t.value=""),e.invokeMethodAsync("OnTagBoxLostFocus",t.value))}}function I(e){return(e=o.EnsureElement(e)).querySelector("div.dxbs-dm.dropdown-menu")}function g(e,t,n,c,a){if(e=o.EnsureElement(e)){s.DisposeEvents(e),c="true"===c.toLowerCase(),a="true"===a.toLowerCase(),t=o.EnsureElement(t);var i=I(e);o.SetPositionOfDropDown(e,i);var l=i;a&&f(e);var d=function(e){return j(e,c)},m=function(e){return k(e,n,l,c)},p=function(e){return function(e,t){h(e.target)}(e)},T=function(e){return E(e,n)},g=function(e){return v(e.target)},F=function(e){return y(t)},w=function(r){return u.OnOutsideClick(r,e,function(){o.elementIsInDOM(e)||s.DisposeEvents(e);var r=document.activeElement===t,c=t.dataset.timerId>0,a=i&&u.IsDropDownVisible(i);y(t),(r||c||a)&&D(n,t,!0)})};return o.AttachEventToElement(t,"keydown",d),o.AttachEventToElement(t,"keyup",m),o.AttachEventToElement(t,"focus",p),o.AttachEventToElement(t,"blur",T),o.AttachEventToElement(t,"input",g),o.AttachEventToElement(e,"mousedown",F),o.AttachEventToElement(document,r.TouchUIHelper.touchMouseDownEventName,w),s.RegisterDisposableEvents(e,function(){o.DetachEventFromElement(t,"keydown",d),o.DetachEventFromElement(t,"keyup",m),o.DetachEventFromElement(t,"focus",p),o.DetachEventFromElement(t,"blur",T),o.DetachEventFromElement(t,"input",g),o.DetachEventFromElement(e,"mousedown",F),o.DetachEventFromElement(document,r.TouchUIHelper.touchMouseDownEventName,w)}),v(t),Promise.resolve("ok")}}function F(e){if(e=o.EnsureElement(e))return s.DisposeEvents(e),Promise.resolve("ok")}var w={Init:g,Dispose:F,PrepareInputIfFocused:p,ScrollToFocusedItem:f,FitInputWidth:v,ForceInputValue:m};n.Dispose=F,n.FitInputWidth=v,n.ForceInputValue=m,n.Init=g,n.PrepareInputIfFocused=p,n.ScrollToFocusedItem=f,n.default=w},["cjs-chunk-9eab2df8.js","cjs-dom-utils-9e3f000c.js","cjs-chunk-f8581dee.js","cjs-chunk-ea895bfc.js","cjs-chunk-98cdd37b.js","cjs-dropdowns-e7ee1fb5.js","cjs-chunk-e26655d2.js","cjs-chunk-f4c68e62.js","cjs-chunk-d6ceb400.js"]);
